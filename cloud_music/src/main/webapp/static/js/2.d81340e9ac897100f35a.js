webpackJsonp([2],{"9tNf":function(t,e){},XOGy:function(t,e){},skZn:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("0Qqk"),i=a("mx1b"),r={components:{vHead:s.a,vFoot:i.a},computed:{serverUrl:function(){return this.$store.state.serverUrl},search:function(){return this.$store.state.search},state:function(){return this.$store.state}},mounted:function(){"歌曲"==this.curTitle?(this.getSongList(this.$store.state.search.name,this.page.cur),this.getSongTotal(this.$store.state.search.name)):"歌手"==this.curTitle?(this.getArtistList(this.$store.state.search.name,this.page.cur),this.getArtistTotal(this.$store.state.search.name)):"专辑"==this.curTitle&&(this.getAlbumList(this.$store.state.search.name,this.page.cur),this.getAlbumTotal(this.$store.state.search.name))},data:function(){return{dialogVisible:!1,ruleForm:{name:"",des:""},curTitle:"歌曲",headNav:[{title:"歌曲"},{title:"歌手"},{title:"专辑"}],songList:[],artistList:[],albumList:[],page:{cur:1,total:0}}},methods:{cur_title:function(t){this.curTitle=t,this.page.cur=1,"歌曲"==this.curTitle?(this.getSongList(this.$store.state.search.name,this.page.cur),this.getSongTotal(this.$store.state.search.name)):"歌手"==this.curTitle?(this.getArtistList(this.$store.state.search.name,this.page.cur),this.getArtistTotal(this.$store.state.search.name)):"专辑"==this.curTitle&&(this.getAlbumList(this.$store.state.search.name,this.page.cur),this.getAlbumTotal(this.$store.state.search.name))},handleCurrentChange:function(t){this.page.cur=t,"歌曲"==this.curTitle?this.getSongList(this.$store.state.search.name,this.page.cur):"歌手"==this.curTitle?this.getArtistList(this.$store.state.search.name,this.page.cur):this.getAlbumList(this.$store.state.search.name,this.page.cur)},getSongList:function(t,e){var a=this;this.axios.get(this.serverUrl+"/song/searchSong",{params:{name:t,page:e}}).then(function(t){a.songList=t.data;for(var e=0;e<a.songList.length;e++)a.$set(a.songList[e],"Flag",!1),a.$set(a.songList[e],"isopen",!1)}).catch(function(t){console.log(t)})},getArtistList:function(t,e){var a=this;this.axios.get(this.serverUrl+"/artist/searchArtist",{params:{name:t,page:e}}).then(function(t){a.artistList=t.data;for(var e=0;e<t.data.length;e++)a.artistList[e].image=a.serverUrl+a.artistList[e].image}).catch(function(t){console.log(t)})},getAlbumList:function(t,e){var a=this;this.axios.get(this.serverUrl+"/album/searchAlbum",{params:{name:t,page:e}}).then(function(t){a.albumList=t.data;for(var e=0;e<t.data.length;e++)a.albumList[e].image=a.serverUrl+a.albumList[e].image}).catch(function(t){console.log(t)})},getSongTotal:function(t){var e=this;this.axios.get(this.serverUrl+"/song/searchSongCount",{params:{name:t}}).then(function(t){e.page.total=t.data}).catch(function(t){console.log(t)})},getArtistTotal:function(t){var e=this;this.axios.get(this.serverUrl+"/artist/searchArtistCount",{params:{name:t}}).then(function(t){e.page.total=t.data}).catch(function(t){console.log(t)})},getAlbumTotal:function(t){var e=this;this.axios.get(this.serverUrl+"/album/searchAlbumCount",{params:{name:t}}).then(function(t){e.page.total=t.data}).catch(function(t){console.log(t)})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("v-head"),t._v(" "),a("div",{staticClass:"search_nav"},[a("ul",{staticClass:"menu_2"},t._l(t.headNav,function(e){return a("li",{class:{nav_color:t.curTitle==e.title},on:{click:function(a){t.cur_title(e.title)},mouseover:function(e){t.mo()}}},[t._v("\n\t\t\t\t"+t._s(e.title)+"\n\t\t\t")])})),t._v(" "),a("div",{staticStyle:{clear:"both"}})]),t._v(" "),a("div",{staticClass:"search_main"},["歌曲"==t.curTitle?a("div",{staticClass:"search_song",staticStyle:{margin:"0 auto",width:"82%"}},[a("el-table",{staticClass:"spHeight",staticStyle:{width:"100%"},attrs:{data:t.songList,stripe:!0},on:{"cell-mouse-enter":t.handleMouseEnter,"cell-mouse-leave":t.handleMouseOut}},[a("el-table-column",{attrs:{label:"歌曲"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{tag:"a",to:{path:"/admin/songdetail",query:{id:e.row.id}}}},[a("span",{staticStyle:{color:"black",cursor:"pointer"},attrs:{onmouseover:"this.style.color='#31C27C';",onmouseout:"this.style.color='black';"}},[t._v(t._s(e.row.name))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"歌手"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{tag:"a",to:{path:"/admin/artistdetail",query:{id:e.row.artistId}}}},[a("span",{staticStyle:{color:"black",cursor:"pointer"},attrs:{onmouseover:"this.style.color='#31C27C';",onmouseout:"this.style.color='black';"}},[t._v(t._s(e.row.artistName))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"专辑"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{tag:"a",to:{path:"/admin/albumdetail",query:{id:e.row.albumId}}}},[a("span",{staticStyle:{color:"black",cursor:"pointer"},attrs:{onmouseover:"this.style.color='#31C27C';",onmouseout:"this.style.color='black';"}},[t._v(t._s(e.row.albumName))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"time",label:"时长"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.duration))])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-footer",staticStyle:{"margin-top":"50px"}},[a("el-pagination",{attrs:{"current-page":t.page.cur,"page-size":20,background:"",layout:"total, prev, pager, next",total:t.page.total},on:{"current-change":t.handleCurrentChange}})],1)],1):t._e(),t._v(" "),"歌手"==t.curTitle?a("div",{staticClass:"search_artist"},[a("ul",{attrs:{id:"singerlist"}},t._l(t.artistList,function(e){return a("li",{staticClass:"singerli"},[a("div",{staticClass:"singer"},[a("router-link",{attrs:{to:{path:"/admin/artistdetail",query:{id:e.id}}}},[a("img",{staticStyle:{"border-radius":"100%",padding:"35px"},attrs:{src:e.image,alt:""}}),t._v(" "),a("p",{staticStyle:{color:"black",cursor:"pointer"},attrs:{onmouseover:"this.style.color='#31C27C';",onmouseout:"this.style.color='black';"}},[t._v(t._s(e.name))])])],1)])})),t._v(" "),a("div",{staticStyle:{clear:"both"}}),t._v(" "),a("div",{staticClass:"pagination-footer"},[a("el-pagination",{attrs:{"current-page":t.page.cur,"page-size":20,background:"",layout:"total, prev, pager, next",total:t.page.total},on:{"current-change":t.handleCurrentChange}})],1)]):t._e(),t._v(" "),"专辑"==t.curTitle?a("div",{staticClass:"search_artist"},[a("el-row",{attrs:{gutter:"20"}},t._l(t.albumList,function(e){return a("el-col",{key:e.id,staticStyle:{width:"20%"},attrs:{data:t.albumList}},[a("el-card",{staticStyle:{border:"none","margin-bottom":"20px"},attrs:{"body-style":{padding:"0px"},shadow:"never"}},[a("router-link",{attrs:{tag:"a",to:{path:"/admin/albumdetail",query:{id:e.id}}}},[a("img",{staticClass:"image",attrs:{src:e.image}})]),t._v(" "),a("div",{staticStyle:{"line-height":"8px","font-size":"5px"}},[a("router-link",{attrs:{tag:"a",to:{path:"/admin/albumdetail",query:{id:e.id}}}},[a("p",{staticStyle:{color:"black",cursor:"pointer"},attrs:{onmouseover:"this.style.color='#31C27C';",onmouseout:"this.style.color='black';"}},[t._v(t._s(e.name))])]),t._v(" "),a("router-link",{attrs:{tag:"a",to:{path:"/admin/artistdetail",query:{id:e.artistId}}}},[a("p",{staticStyle:{color:"black",cursor:"pointer"},attrs:{onmouseover:"this.style.color='#31C27C';",onmouseout:"this.style.color='black';"}},[t._v(t._s(e.artistName))])])],1)],1)],1)})),t._v(" "),a("div",{staticClass:"pagination-footer"},[a("el-pagination",{attrs:{"current-page":t.page.cur,"page-size":20,background:"",layout:"total, prev, pager, next",total:t.page.total},on:{"current-change":t.handleCurrentChange}})],1)],1):t._e()]),t._v(" "),a("v-foot")],1)},staticRenderFns:[]};var n=a("vSla")(r,o,!1,function(t){a("9tNf"),a("XOGy")},"data-v-62542d85",null);e.default=n.exports}});
//# sourceMappingURL=2.d81340e9ac897100f35a.js.map