webpackJsonp([15],{"+LNO":function(t,i){},"0b2l":function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=n("Hn+D"),a=n("ANMl"),s=n("mx1b"),r=n("T0cg"),l=n.n(r),g={data:function(){return{region:0,initial:"@",gender:0,page:1,pageCount:5,singers:[],items:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]}},components:{vNav:a.a,vHeader:e.a,vFoot:s.a},computed:{serverUrl:function(){return this.$store.state.serverUrl}},mounted:function(){this.singerDisplay(0,"@",0,1)},methods:{handleCurrentChange:function(t){this.singerDisplay(0,"!",0,t)},singerDisplay:function(t,i,n,e){var a=this;0!=e?(t=this.region,i=this.initial,n=this.gender,this.page=e):"!"!=i?(t=this.region,n=this.gender,this.initial=i,e=1,this.page=1):-1!=t?(i=this.initial,n=this.gender,this.region=t,e=1,this.page=1):-1!=n&&(t=this.region,i=this.initial,this.gender=n,e=1,this.page=1),this.axios.get(this.serverUrl+"/artist/filterArtist",{params:{region:t,initial:i,gender:n,page:e}}).then(function(e){a.singers=e.data,console.log(a.singers);for(var s=0;s<e.data.length;s++)null==a.singers[s].image?a.singers[s].image=l.a:a.singers[s].image=a.serverUrl+a.singers[s].image;console.log(a.singers),a.axios.get(a.serverUrl+"/artist/filterArtistCount",{params:{region:t,initial:i,gender:n}}).then(function(t){a.pageCount=Math.ceil(parseFloat(t.data)/10),console.log(a.singers)}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},region_change_bg:function(t){var i=document.getElementById("region").getElementsByTagName("li");i[1].className="current";for(var n=0;n<i.length;n++)i[n].className=n==t?"current":""},initial_change_bg:function(t){var i=document.getElementById("initial").getElementsByTagName("li");i[1].className="current";for(var n=0;n<i.length;n++)i[n].className=n==t?"current":""},gender_change_bg:function(t){var i=document.getElementById("gender").getElementsByTagName("li");i[1].className="current";for(var n=0;n<i.length;n++)i[n].className=n==t?"current":""}}},c={render:function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[n("v-header"),t._v(" "),n("v-nav"),t._v(" "),n("div",{staticClass:"main"},[n("div",{staticClass:"singer-nav"},[n("table",{staticStyle:{margin:"0 auto"},attrs:{id:"singer-nav-table"}},[n("div",{staticStyle:{"background-color":"rgb(251,251,253)",width:"1150px",height:"160px"}},[n("tr",[t._m(0),t._v(" "),n("td",{staticStyle:{"text-align":"left"}},[n("ul",{staticClass:"singer-nav-tag",attrs:{id:"initial"}},[n("li",{staticClass:"current long",staticStyle:{width:"40px","padding-left":"3px","padding-right":"3px","margin-right":"5px","margin-top":"12px"},attrs:{id:"all"},on:{click:function(i){t.initial_change_bg(0),t.singerDisplay(-1,"@",-1,0)}}},[t._v("热门")]),t._v(" "),t._l(t.items,function(i){return n("li",{staticStyle:{"margin-top":"12px"},on:{click:function(n){t.initial_change_bg(i.charCodeAt()-64),t.singerDisplay(-1,i,-1,0)}}},[t._v(t._s(i))])})],2)])]),t._v(" "),n("tr",[t._m(1),t._v(" "),n("td",[n("ul",{staticClass:"singer-nav-tag",attrs:{id:"region"}},[n("li",{staticClass:"current",on:{click:function(i){t.region_change_bg(0),t.singerDisplay(0,"!",-1,0)}}},[t._v("全部")]),t._v(" "),n("li",{on:{click:function(i){t.region_change_bg(1),t.singerDisplay(1,"!",-1,0)}}},[t._v("内地")]),t._v(" "),n("li",{on:{click:function(i){t.region_change_bg(2),t.singerDisplay(2,"!",-1,0)}}},[t._v("港台")]),t._v(" "),n("li",{on:{click:function(i){t.region_change_bg(3),t.singerDisplay(3,"!",-1,0)}}},[t._v("欧美")]),t._v(" "),n("li",{on:{click:function(i){t.region_change_bg(4),t.singerDisplay(4,"!",-1,0)}}},[t._v("日韩")]),t._v(" "),n("li",{on:{click:function(i){t.region_change_bg(5),t.singerDisplay(5,"!",-1,0)}}},[t._v("其他")])])])]),t._v(" "),n("tr",[t._m(2),t._v(" "),n("td",[n("ul",{staticClass:"singer-nav-tag",attrs:{id:"gender"}},[n("li",{staticClass:"current",on:{click:function(i){t.gender_change_bg(0),t.singerDisplay(-1,"!",0,0)}}},[t._v("全部")]),t._v(" "),n("li",{on:{click:function(i){t.gender_change_bg(1),t.singerDisplay(-1,"!",1,0)}}},[t._v("男")]),t._v(" "),n("li",{on:{click:function(i){t.gender_change_bg(2),t.singerDisplay(-1,"!",2,0)}}},[t._v("女")]),t._v(" "),n("li",{on:{click:function(i){t.gender_change_bg(3),t.singerDisplay(-1,"!",3,0)}}},[t._v("组合")])])])])])])]),t._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("div",{staticClass:"grid-content bg-purple-dark"})])],1),t._v(" "),n("ul",{attrs:{id:"singerlist"}},t._l(t.singers,function(i){return n("li",{staticClass:"singerli"},[n("div",{staticClass:"singer"},[n("router-link",{attrs:{to:{path:"/user/artistdetail",query:{id:i.id}}}},[n("img",{staticStyle:{"border-radius":"100%",padding:"20px"},attrs:{src:i.image,alt:""}}),t._v(" "),n("p",[t._v(t._s(i.name))])])],1)])})),t._v(" "),n("el-pagination",{staticClass:"pagination",attrs:{layout:"prev, pager, next","page-count":t.pageCount},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),n("v-foot")],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("td",[i("span",{staticClass:"cl long"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("td",[i("span",{staticClass:"cl"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("td",[i("span",{staticClass:"cl gender"})])}]};var o=n("vSla")(g,c,!1,function(t){n("+LNO")},"data-v-25ac0ec8",null);i.default=o.exports}});
//# sourceMappingURL=15.01afa889540ecb1ab187.js.map