{"version":3,"sources":["webpack:///src/components/user/page/findpwd.vue","webpack:///./src/components/user/page/findpwd.vue?2ac5","webpack:///./src/components/user/page/findpwd.vue"],"names":["findpwd","components","vFoot","data","_this","this","active","flag","email","id","security","securityQuestion","securityAnswer","password","newPwd","confirmedNewPwd","rules1","required","message","trigger","type","rules2","rules3","validator","rule","value","callback","Error","test","computed","serverUrl","$store","state","methods","next","checkUserExisted","checkAnswer","resetPassword","last","hidden","_active","document","getElementById","style","display","$router","push","path","_email","_this2","checkInput","axios","get","params","then","res","$message","ID","getQuestion","catch","error","console","log","_this3","_id","_answer","_this4","post","_newPwd","_this5","formName","_this6","$refs","validate","valid","page_findpwd","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","separator-class","staticStyle","margin","font-size","font-family","to","_v","margin-top","finish-status","align-center","title","icon","width","height","ref","model","rules","label-width","label","prop","placeholder","prefix-icon","clearable","$$v","$set","expression","list-style-type","_s","float","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/8.e6cb50505815882df7e8.js","sourcesContent":["<template>\r\n\t<div>\r\n\t<div class=\"main\">\r\n\t\t<div class=\"Nav\">\r\n\t\t<div class=\"NavMenu\">\r\n\t\t\t<el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n\t\t\t\t<div style=\"margin: 2% 25%\">\r\n\t\t\t\t\t<el-breadcrumb-item :to=\"{ path: '/' }\" style=\"font-size: 25px;font-family: Microsoft YaHei\">云音乐网站</el-breadcrumb-item>\r\n  \t\t\t\t\t<el-breadcrumb-item style=\" margin-top: 4px;font-size: 20px; font-family:Microsoft YaHei\">找回密码</el-breadcrumb-item>\r\n\t\t\t\t</div>\r\n\t\t\t</el-breadcrumb>\r\n\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"Steps\">\r\n\t\t\t<el-steps :active=\"active\" finish-status=\"success\" align-center>\r\n  \t\t\t\t<el-step title=\"填写邮箱\" icon=\"el-icon-edit\"></el-step>\r\n  \t\t\t\t<el-step title=\"密保问题\" icon=\"el-icon-question\"></el-step>\r\n  \t\t\t\t<el-step title=\"重置密码\" icon=\"el-icon-refresh\"></el-step>\r\n\t\t\t</el-steps>\r\n\t\t</div>\r\n\t\t<div class=\"Step\">\r\n\t\t\t<template>\r\n\t\t\t\t<div id = 'div1' style=\"width: 400px; height: 50px; margin: auto; display: block;\">\r\n\t\t\t\t\t<el-form :model=\"email\" :rules=\"rules1\" ref=\"email\" label-width=\"85px\">\r\n\t\t\t\t\t\t<el-form-item label=\"邮箱\" prop=\"id\">\r\n\t\t\t\t\t\t\t<el-input style=\"width: 300px\" v-model=\"email.id\" placeholder=\"请输入邮箱\" prefix-icon=\"el-icon-search\" clearable></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-form>\r\n\t\t\t\t</div> \r\n\t\t\t\t<div id = 'div2' style=\"width: 400px; height: 100px; margin: auto; display: none;\">\r\n\t\t\t\t\t<el-form :model=\"security\" :rules=\"rules2\" ref=\"security\">\r\n\t\t\t\t\t\t<el-form-item label=\"密保问题：\" prop=\"securityQuestion\">\r\n\t\t\t\t\t\t\t<li style=\"list-style-type:none\">{{security.securityQuestion}}</li>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item label=\"密保答案：\" prop=\"securityAnswer\">\r\n\t\t\t\t\t\t\t<el-input  style=\"width: 300px;\" placeholder=\"请输入答案\"  v-model=\"security.securityAnswer\" clearable></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id = 'div3' style=\"width: 400px; height: 100px; margin: auto; display: none;\">\r\n\t\t\t\t\t<el-form :model=\"password\" :rules=\"rules3\" ref=\"password\">\r\n\t\t\t\t\t\t<el-form-item label=\"新密码：\" prop=\"newPwd\">\r\n\t\t\t\t\t\t\t<el-input  style=\"width: 300px; float: right;\" placeholder=\"请输入新密码\" v-model=\"password.newPwd\" clearable></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\t<el-form-item label=\"确认密码：\" prop=\"confirmedNewPwd\">\r\n\t\t\t\t\t\t\t<el-input  style=\"width: 300px; float: right;\" placeholder=\"请确认新密码\" v-model=\"password.confirmedNewPwd\" clearable></el-input>\r\n\t\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t</el-form>\r\n\t\t\t\t</div>\r\n\t\t\t</template>\r\n\t\t</div>\r\n\t\t<div style=\"width: 200px; margin: auto; margin-top: 50px\">\r\n\t\t\t<el-button @click=\"last()\">上一步</el-button>\r\n\t\t\t<el-button @click=\"next()\">下一步</el-button>\t\t\t\r\n\t\t</div>\r\n\t</div>\r\n\t<v-foot></v-foot>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n  import vFoot from \"../common/footer.vue\"\r\n\r\n  export default {\r\n  \tcomponents: {\r\n      vFoot\r\n    },\r\n\r\n    data() {\t\t\r\n     \tvar validatePass = (rule, value, callback) => {\r\n\t\t\tvar reg = /^(?=.*?[A-Za-z])(?=.*?[0-9]).{6,20}$/\r\n\t\t\t\t// alert(reg.test(value));\r\n\t\t\tif (value === '') {\r\n\t\t\t\tcallback(new Error('请输入密码'));\r\n\t\t\t} else if(!reg.test(value)) {\r\n\t\t\t\tcallback(new Error('输入密码要6-20位,要包含字母和数字'));\r\n\t\t\t} else {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar validatePass2 = (rule, value, callback) => {\r\n\t\t\tif (value === '') {\r\n\t\t\t\tcallback(new Error('请再次输入密码'));\r\n\t\t\t} else if (value !== this.password.newPwd) {\r\n\t\t\t\tcallback(new Error('两次输入密码不一致!'));\r\n\t\t\t} else {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t};\r\n      return {\r\n        active: 0,\r\n        flag: 'false',\r\n        email: {\r\n\t\t\tid: '',\r\n\t\t},\r\n\t\tsecurity: {\r\n\t\t\tsecurityQuestion: '',\r\n\t\t\tsecurityAnswer: '',\r\n\t\t},\r\n\t\tpassword: {\r\n\t\t    newPwd: '',\r\n\t\t    confirmedNewPwd: '',\r\n\t\t},\r\n\t\trules1: {\r\n\t\t\tid: [\r\n\t\t\t{ required: true, message: '请输入邮箱', trigger: 'blur' },\r\n\t\t\t{ type: 'email', message: '请输入正确的邮箱地址', trigger: ['blur', 'change'] }\r\n\t\t\t],\r\n\t\t},\r\n\t\trules2: {\r\n\t\t\tsecurityQuestion: [{required: true}],\r\n\t\t\tsecurityAnswer: [\r\n\t\t\t{ required: true, message: '请输入答案', trigger: ['blur', 'change'] },\r\n\t\t\t],\r\n\t\t},\r\n\t\trules3: {\r\n\t\t\tnewPwd:[{required: true, validator: validatePass, trigger: ['blur', 'change']}],\r\n\t\t\tconfirmedNewPwd:[{required:true, validator: validatePass2, trigger: ['blur', 'change']}],\r\n\t\t}\r\n\t\t}\r\n      },\r\n\r\n    computed: {\r\n      serverUrl() {\r\n        return this.$store.state.serverUrl;\r\n      },\r\n      state() {\r\n        return this.$store.state;\r\n      }\r\n    },\r\n\r\n    methods: {\r\n    \t/* 点击下一步按钮实现步骤切换*/\r\n      next() {\r\n      \tif(this.active == 0) this.checkUserExisted(this.email.id);\r\n      \tif(this.active == 1) this.checkAnswer(this.email.id, this.security.securityAnswer);\r\n      \tif(this.active == 2) this.resetPassword(this.password.newPwd);    \t\r\n      },\r\n      /* 点击上一步按钮实现步骤切换*/\r\n      last() {\r\n      \tif (this.active-- < 1) this.active = 0;\r\n      \tthis.hidden(this.active);\r\n      },\r\n      /* 隐藏div使当前展示的div与步骤条同步*/\r\n      hidden: function(_active){\r\n      \tif(_active == 0) { //对应步骤条第一步\r\n        \tdocument.getElementById('div1').style.display = 'block';\r\n        \tdocument.getElementById('div2').style.display = 'none';\r\n        \tdocument.getElementById('div3').style.display = 'none';\r\n      \t} else if(_active == 1) { //对应步骤条第二步\r\n        \tdocument.getElementById('div2').style.display = 'block';\r\n        \tdocument.getElementById('div1').style.display = 'none';\r\n        \tdocument.getElementById('div3').style.display = 'none';\r\n        } else if(_active == 2) { //对应步骤条第三步\r\n        \tdocument.getElementById('div3').style.display = 'block';\r\n        \tdocument.getElementById('div1').style.display = 'none';\r\n        \tdocument.getElementById('div2').style.display = 'none';\r\n        } else if(_active == 3) { //页面跳转\r\n        \t// setTimeout(function () { \r\n            this.$router.push({\r\n              path: '/user/unlogin'}); \r\n          // }, 4000);\r\n        }\r\n      },\r\n      /* 判断用户是否存在*/\r\n      checkUserExisted: function(_email){\r\n      \tthis.checkInput('email')\r\n      \t// if(_email != '') {\r\n      \t\tif(this.flag){\r\n\t\t  \t\tthis.flag = false;\r\n\t\t  \t    this.axios.get(this.serverUrl+'/user/checkUserExisted',{\r\n\t\t            params:{\r\n\t\t              id:_email,\r\n\t\t            }\r\n\t\t          })\r\n\t\t  \t\t  .then(res => {\r\n\t\t  \t\t  \tvar tip = res.data;\r\n\t\t  \t\t  \tif(!tip) {\r\n\t\t  \t\t  \t\tthis.$message({\r\n          \t\t\t\t\tmessage: '用户不存在！',\r\n          \t\t\t\t\ttype: 'error'\r\n        \t\t\t\t});\r\n        \t\t\t\tthis.active = -1;\r\n        \t\t\t}\r\n        \t\t\tif (this.active++ > 2) {\r\n        \t\t\t\tthis.active = 3;\r\n        \t\t\t}\r\n        \t\t\tthis.hidden(this.active);\r\n\t\t  \t\t  \tvar ID = this.email.id;\r\n\t\t  \t\t  \tthis.getQuestion(ID);\r\n\t\t  \t\t  })\r\n\t\t  \t\t  .catch(function (error) {\r\n\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t});\r\n      \t\t} else{\r\n      \t\t\tthis.active = 0;\r\n      \t\t\t}\r\n      },\r\n      /* 获取用户密保问题*/\r\n      getQuestion: function(_email){\r\n      \tthis.axios.get(this.serverUrl+'/user/getQuestion',{\r\n                params:{\r\n                  id:_email,\r\n                }\r\n              })\r\n      \t\t.then(res => {\r\n      \t\t\tif(res.data == 1) this.security.securityQuestion = '你的家乡在哪里';\r\n      \t\t\telse if(res.data == 2) this.security.securityQuestion = '你的父亲名字？';\r\n      \t\t\telse if(res.data == 3) this.security.securityQuestion = '你的母亲名字？';\r\n      \t\t\telse if(res.data == 4) this.security.securityQuestion = '你的生日？';\r\n      \t\t})\r\n      \t\t.catch(function (error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n      },\r\n      /* 判断用户密保答案是否正确*/\r\n      checkAnswer: function(_id, _answer){\r\n      \tthis.checkInput('security');\r\n      \t// if(_answer != ''){\r\n      \t\tif(this.flag){\r\n      \t\t\tthis.flag = false;\r\n      \t\t\tthis.axios.post(this.$store.state.serverUrl+'/user/checkAnswer',{\r\n                  id:_id,\r\n                  securityAnswer:_answer,\r\n              })\r\n      \t\t.then(res => {\r\n      \t\t\tvar isright = res.data;\r\n      \t\t\tif(!isright){\r\n      \t\t\t\tthis.$message({\r\n      \t\t\t\t\tmessage: '答案错误！',\r\n      \t\t\t\t\ttype: 'error'\r\n    \t\t\t\t});\r\n      \t\t\t\tthis.active = 0;\r\n        \t\t\t}\r\n        \t\tif (this.active++ > 2) {\r\n        \t\t\tthis.active = 3;\r\n        \t\t\t}\r\n        \t\tthis.hidden(this.active);\r\n      \t\t})\r\n      \t\t.catch(function (error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n      \t} else {\r\n      \t\tthis.active = 1;\r\n      \t\t}\r\n      },\r\n      /* 重置密码*/\r\n      resetPassword: function(_newPwd){\r\n      \tthis.checkInput('password');\r\n      \tif(this.flag){\r\n      \t\tthis.flag = false;\r\n  \t\t\tthis.axios.post(this.$store.state.serverUrl + '/user/resetPassword',{\r\n              newPwd:_newPwd, \r\n          })\r\n  \t\t.then(res => {\r\n  \t\t\tvar isright = res.data;\r\n  \t\t\tif(!isright){\r\n  \t\t\t\tthis.$message({\r\n  \t\t\t\t\tmessage: '密码修改失败！',\r\n  \t\t\t\t\ttype: 'error'\r\n\t\t\t\t});\r\n  \t\t\t} else {\r\n  \t\t\t\tthis.$message({\r\n  \t\t\t\t\tmessage: '密码修改成功！',\r\n  \t\t\t\t\ttype: 'success'\r\n\t\t\t\t});\r\n  \t\t\t}\r\n  \t\t\tif (this.active++ > 2) {\r\n\t\t\t\tthis.active = 3;\r\n\t\t\t}\r\n\t\t\tthis.hidden(this.active);\r\n  \t\t})\r\n  \t\t.catch(function (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n      \t} else {\r\n      \t\tthis.active = 2;\r\n      \t\t}\r\n      },\r\n\r\n      /* 判断用户输入是否合法*/\r\n      checkInput: function(formName){\r\n      \tthis.$refs[formName].validate((valid) => {\r\n      \t\tif(valid) {\r\n      \t\t\tthis.flag = true;\r\n      \t\t\treturn true;\r\n      \t\t} else {\r\n      \t\t\tconsole.log('error submit!!');\r\n      \t\t\tthis.flag = false;\r\n      \t\t\treturn false;\r\n      \t\t}\r\n      \t});\r\n      },\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\t.main{\r\n\t\theight: 550px;\r\n\t\tmargin-bottom: 50px;\r\n\t}\r\n\t.Nav{\r\n\t\theight: 60px;\r\n\t\tbackground-color: #d3dce6;\r\n\t\tmargin-bottom: 50px;\r\n\t}\r\n\t.NavMenu{\r\n\t\twidth: 1000px;\r\n\t}\r\n\t.Steps{\r\n\t\twidth: 1200px;\r\n\t\tmargin: auto;\r\n\t\tmargin-bottom: 50px;\r\n\t\t/*background-color: #e5e9f2;*/\r\n\t}\r\n\t.el-steps{\r\n\t\twidth: 1000px;\r\n\t\theight: 100px; \r\n\t\tmargin: 0 auto;\r\n\t\tfont-family: \"Microsoft YaHei\";\r\n\t}\r\n\t.el-button{\r\n\t\tmargin: 0 auto;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/user/page/findpwd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"Nav\"},[_c('div',{staticClass:\"NavMenu\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('div',{staticStyle:{\"margin\":\"2% 25%\"}},[_c('el-breadcrumb-item',{staticStyle:{\"font-size\":\"25px\",\"font-family\":\"Microsoft YaHei\"},attrs:{\"to\":{ path: '/' }}},[_vm._v(\"云音乐网站\")]),_vm._v(\" \"),_c('el-breadcrumb-item',{staticStyle:{\"margin-top\":\"4px\",\"font-size\":\"20px\",\"font-family\":\"Microsoft YaHei\"}},[_vm._v(\"找回密码\")])],1)])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"Steps\"},[_c('el-steps',{attrs:{\"active\":_vm.active,\"finish-status\":\"success\",\"align-center\":\"\"}},[_c('el-step',{attrs:{\"title\":\"填写邮箱\",\"icon\":\"el-icon-edit\"}}),_vm._v(\" \"),_c('el-step',{attrs:{\"title\":\"密保问题\",\"icon\":\"el-icon-question\"}}),_vm._v(\" \"),_c('el-step',{attrs:{\"title\":\"重置密码\",\"icon\":\"el-icon-refresh\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"Step\"},[[_c('div',{staticStyle:{\"width\":\"400px\",\"height\":\"50px\",\"margin\":\"auto\",\"display\":\"block\"},attrs:{\"id\":\"div1\"}},[_c('el-form',{ref:\"email\",attrs:{\"model\":_vm.email,\"rules\":_vm.rules1,\"label-width\":\"85px\"}},[_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"id\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"placeholder\":\"请输入邮箱\",\"prefix-icon\":\"el-icon-search\",\"clearable\":\"\"},model:{value:(_vm.email.id),callback:function ($$v) {_vm.$set(_vm.email, \"id\", $$v)},expression:\"email.id\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"400px\",\"height\":\"100px\",\"margin\":\"auto\",\"display\":\"none\"},attrs:{\"id\":\"div2\"}},[_c('el-form',{ref:\"security\",attrs:{\"model\":_vm.security,\"rules\":_vm.rules2}},[_c('el-form-item',{attrs:{\"label\":\"密保问题：\",\"prop\":\"securityQuestion\"}},[_c('li',{staticStyle:{\"list-style-type\":\"none\"}},[_vm._v(_vm._s(_vm.security.securityQuestion))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密保答案：\",\"prop\":\"securityAnswer\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"placeholder\":\"请输入答案\",\"clearable\":\"\"},model:{value:(_vm.security.securityAnswer),callback:function ($$v) {_vm.$set(_vm.security, \"securityAnswer\", $$v)},expression:\"security.securityAnswer\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"400px\",\"height\":\"100px\",\"margin\":\"auto\",\"display\":\"none\"},attrs:{\"id\":\"div3\"}},[_c('el-form',{ref:\"password\",attrs:{\"model\":_vm.password,\"rules\":_vm.rules3}},[_c('el-form-item',{attrs:{\"label\":\"新密码：\",\"prop\":\"newPwd\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\",\"float\":\"right\"},attrs:{\"placeholder\":\"请输入新密码\",\"clearable\":\"\"},model:{value:(_vm.password.newPwd),callback:function ($$v) {_vm.$set(_vm.password, \"newPwd\", $$v)},expression:\"password.newPwd\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码：\",\"prop\":\"confirmedNewPwd\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\",\"float\":\"right\"},attrs:{\"placeholder\":\"请确认新密码\",\"clearable\":\"\"},model:{value:(_vm.password.confirmedNewPwd),callback:function ($$v) {_vm.$set(_vm.password, \"confirmedNewPwd\", $$v)},expression:\"password.confirmedNewPwd\"}})],1)],1)],1)]],2),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"200px\",\"margin\":\"auto\",\"margin-top\":\"50px\"}},[_c('el-button',{on:{\"click\":function($event){_vm.last()}}},[_vm._v(\"上一步\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.next()}}},[_vm._v(\"下一步\")])],1)]),_vm._v(\" \"),_c('v-foot')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-91f251be\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/user/page/findpwd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-91f251be\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./findpwd.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./findpwd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./findpwd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-91f251be\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./findpwd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-91f251be\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/page/findpwd.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}