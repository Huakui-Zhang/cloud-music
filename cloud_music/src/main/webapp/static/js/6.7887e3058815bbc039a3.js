webpackJsonp([6],{"5+1e":function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l("3cXf"),s=l.n(a),i=l("Hn+D"),n=l("ANMl"),o=l("mx1b"),r={components:{vHead:i.a,vNav:n.a,vFoot:o.a},data:function(){return{user:{id:""},background:{backgroundImage:"url("+l("lkCq")+")",backgroundRepeat:"no-repeat"},currentPageOfSong:1,currentPageOfAlbum:1,currentPageOfPlaylist:1,dialogVisible:!1,newPlaylist:{id:"",name:"",intro:"",type:"",info:""},rules:{name:[{required:!0,message:"请输入歌单名称",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],intro:[{min:1,max:680,message:"长度在 680 个字符以内",trigger:"blur"}]},songList:[],albumList:[],playlistList:[],allSong:[],allAlbum:[],allPlaylist:[]}},methods:{handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},handleMouseEnter:function(t,e,l,a){t.Flag=!0},handleMouseOut:function(t,e,l,a){if(t.isopen)return!1;t.Flag=!1},handle:function(t,e){t.Flag=e,t.isopen=e},playAllSong:function(){0==this.allSong.length?this.$message({showClose:!0,message:"还未收藏任何歌曲",type:"info"}):this.$store.dispatch("play",[this.allSong,0,!1])},playSong:function(t){t=10*(this.currentPageOfSong-1)+t,this.$store.dispatch("play",[this.songList,t,!1])},handleSongCommand:function(t){if("playqueue"==t.type){var e=[this.songList[t.params]];this.$store.dispatch("addToSongList",e)}else"newplaylist"==t.type?(this.dialogVisible=!0,this.newPlaylist.type="song",this.newPlaylist.info=t.params.id):this.addSongToPlaylist(t.param2.id,t.param1)},addSongToPlaylist:function(t,e){var l=this;this.axios.get(this.serverUrl+"/playlist/addSong",{params:{songId:t,playlistId:e}}).then(function(t){t?(l.getMyPlaylist(1),l.$message({showClose:!0,message:"已成功添加到歌单",type:"success"})):l.$message({showClose:!0,message:"会话超时",type:"error"})}).catch(function(t){console.log(t)})},downloadSong:function(t){window.location.href=this.serverUrl+"/download/downloadSong?id="+t.id},deleteSong:function(t,e){var l=this;this.$confirm("确认删除？").then(function(a){l.axios.get(l.serverUrl+"/user/unlikeSong",{params:{songId:t.id}}).then(function(t){t?(l.allSong.splice(10*(l.currentPageOfSong-1)+e,1),l.state.likeSongs=l.allSong,sessionStorage.setItem("likeSongs",s()(l.state.likeSongs)),1==l.songList.length?l.songPaginationChange(l.currentPageOfSong-1):l.songPaginationChange(l.currentPageOfSong),l.$message({showClose:!0,message:"歌曲已被取消收藏",type:"success"})):l.$message({showClose:!0,message:"会话超时",type:"error"})}).catch(function(t){console.log(t)})}).catch(function(t){})},playAlbum:function(t){var e=this;this.axios.get(this.serverUrl+"/album/getSongsFromAlbum",{params:{id:t.id}}).then(function(t){for(var l=t.data,a=0;a<l.length;a++)l[a].image=e.serverUrl+l[a].image,l[a].filePath=e.serverUrl+l[a].filePath,l[a].lyricsPath=e.serverUrl+l[a].lyricsPath;e.$store.dispatch("play",[l,0,!1])}).catch(function(t){console.log(t)})},handleAlbumCommand:function(t){var e=this;"playqueue"==t.type?this.axios.get(this.serverUrl+"/album/getSongsFromAlbum",{params:{id:t.params.id}}).then(function(t){for(var l=t.data,a=0;a<l.length;a++)l[a].image=e.serverUrl+l[a].image,l[a].filePath=e.serverUrl+l[a].filePath,l[a].lyricsPath=e.serverUrl+l[a].lyricsPath;e.$store.dispatch("addToSongList",l)}).catch(function(t){console.log(t)}):"newplaylist"==t.type?(this.dialogVisible=!0,this.newPlaylist.type="album",this.newPlaylist.info=t.params.id):this.addAlbumToPlaylist(t.param2.id,t.param1)},addAlbumToPlaylist:function(t,e){var l=this;this.axios.get(this.serverUrl+"/playlist/addAlbum",{params:{albumId:t,playlistId:e}}).then(function(t){t?(l.getMyPlaylist(1),l.$message({showClose:!0,message:"已成功添加到歌单",type:"success"})):l.$message({showClose:!0,message:"会话超时",type:"error"})}).catch(function(t){console.log(t)})},deleteAlbum:function(t,e){var l=this;this.$confirm("确认删除？").then(function(a){l.axios.get(l.serverUrl+"/user/unlikeAlbum",{params:{albumId:t.id}}).then(function(t){t?(l.allAlbum.splice(10*(l.currentPageOfAlbum-1)+e,1),l.state.likeAlbums=l.allAlbum,sessionStorage.setItem("likeAlbums",s()(l.state.likeAlbums)),1==l.albumList.length?l.albumPaginationChange(l.currentPageOfAlbum-1):l.albumPaginationChange(l.currentPageOfAlbum),l.$message({showClose:!0,message:"专辑已被取消收藏",type:"success"})):l.$message({showClose:!0,message:"会话超时",type:"error"})}).catch(function(t){console.log(t)})}).catch(function(t){})},playPlaylist:function(t){var e=this;this.axios.get(this.serverUrl+"/playlist/getSongs",{params:{id:t.id}}).then(function(t){var l=t.data;if(0==l.length)return e.$message({showClose:!0,message:"歌单里还没有任何歌曲",type:"info"}),!1;for(var a=0;a<l.length;a++)l[a].image=e.serverUrl+l[a].image,l[a].filePath=e.serverUrl+l[a].filePath,l[a].lyricsPath=e.serverUrl+l[a].lyricsPath;e.$store.dispatch("play",[l,0,!1])}).catch(function(t){console.log(t)})},handlePlaylistCommand:function(t){var e=this;"playqueue"==t.type?this.axios.get(this.serverUrl+"/playlist/getSongs",{params:{id:t.params.id}}).then(function(t){for(var l=t.data,a=0;a<l.length;a++)l[a].image=e.serverUrl+l[a].image,l[a].filePath=e.serverUrl+l[a].filePath,l[a].lyricsPath=e.serverUrl+l[a].lyricsPath;e.$store.dispatch("addToSongList",l)}).catch(function(t){console.log(t)}):"newplaylist"==t.type?(this.dialogVisible=!0,this.newPlaylist.type="playlist",this.newPlaylist.info=t.params.id):this.addPlaylistToPlaylist(t.param2.id,t.param1)},addPlaylistToPlaylist:function(t,e){var l=this;this.axios.get(this.serverUrl+"/playlist/addPlaylistToPlaylist",{params:{fromId:t,toId:e}}).then(function(t){t?l.$message({showClose:!0,message:"已成功添加到歌单",type:"success"}):l.$message({showClose:!0,message:"会话超时",type:"error"})}).catch(function(t){console.log(t)})},deletePlaylist:function(t,e){var l=this;this.$confirm("确认删除？").then(function(a){l.axios.get(l.serverUrl+"/playlist/remove",{params:{id:t.id}}).then(function(t){t?(l.allPlaylist.splice(10*(l.currentPageOfPlaylist-1)+e,1),l.state.playlistList=l.allPlaylist,sessionStorage.setItem("playlistList",s()(l.state.playlistList)),1==l.playlistList.length?l.playlistPaginationChange(l.currentPageOfPlaylist-1):l.playlistPaginationChange(l.currentPageOfPlaylist),l.$message({showClose:!0,message:"删除歌单成功",type:"success"})):l.$message({showClose:!0,message:"会话超时",type:"error"})}).catch(function(t){console.log(t)})}).catch(function(t){})},submitForm:function(){var t=this;this.$refs.newPlaylist.validate(function(e){if(!e)return t.$message({showClose:!0,message:"格式不正确",type:"error"}),!1;t.axios.post(t.serverUrl+"/playlist/create",{name:t.newPlaylist.name,intro:t.newPlaylist.intro}).then(function(e){if(-1!=e.data){if(t.$message({showClose:!0,message:"歌单创建成功",type:"success"}),""==t.newPlaylist.type){var a={id:e.data,name:t.newPlaylist.name,intro:t.newPlaylist.intro,image:l("T0cg"),count:0,Flag:!1,isopen:!1};t.allPlaylist.push(a),t.state.playlistList=t.allPlaylist,sessionStorage.setItem("playlistList",s()(t.state.playlistList)),t.playlistPaginationChange(Math.floor((t.allPlaylist.length-1)/10)+1)}else"song"==t.newPlaylist.type?t.addSongToPlaylist(t.newPlaylist.info,e.data):"album"==t.newPlaylist.type?t.addAlbumToPlaylist(t.newPlaylist.info,e.data):(t.addPlaylistToPlaylist(t.newPlaylist.info,e.data),t.getMyPlaylist(Math.floor((t.allPlaylist.length-1)/10)+1));t.dialogVisible=!1,t.$refs.newPlaylist.resetFields()}else t.$message({showClose:!0,message:"会话超时",type:"error"})}).catch(function(t){console.log(t)})})},timestampToTime:function(t){var e=new Date(t),l=e.getFullYear()+"-",a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",s=e.getDate();return s<10&&(s="0"+s),l+a+s},getMyPlaylist:function(t){var e=this;this.axios.get(this.serverUrl+"/user/showMyMusic",{params:{id:this.user.id}}).then(function(a){e.user=a.data,null==e.user.image?e.user.image=l("T0cg"):e.user.image=e.serverUrl+e.user.image,e.allPlaylist=e.user.playlistList;for(var i=0;i<e.allPlaylist.length;i++)null==e.allPlaylist[i].image?e.allPlaylist[i].image=l("T0cg"):e.allPlaylist[i].image=e.serverUrl+e.allPlaylist[i].image,e.$set(e.allPlaylist[i],"Flag",!1),e.$set(e.allPlaylist[i],"isopen",!1);e.state.playlistList=e.allPlaylist,sessionStorage.setItem("playlistList",s()(e.state.playlistList)),e.playlistPaginationChange(t)}).catch(function(t){console.log(t)})},getMyMusic:function(){var t=this;this.axios.get(this.serverUrl+"/user/showMyMusic",{params:{id:this.user.id}}).then(function(e){t.user=e.data,null==t.user.image?t.user.image=l("T0cg"):t.user.image=t.serverUrl+t.user.image,t.allSong=t.user.likeSongList,t.allAlbum=t.user.likeAlbumList,t.allPlaylist=t.user.playlistList;for(var a=0;a<t.allSong.length;a++)null==t.allSong[a].image?t.allSong[a].image=l("T0cg"):t.allSong[a].image=t.serverUrl+t.allSong[a].image,t.allSong[a].filePath=t.serverUrl+t.allSong[a].filePath,t.allSong[a].lyricsPath=t.serverUrl+t.allSong[a].lyricsPath,t.$set(t.allSong[a],"Flag",!1),t.$set(t.allSong[a],"isopen",!1);for(a=0;a<t.allAlbum.length;a++)null==t.allAlbum[a].image?t.allAlbum[a].image=l("T0cg"):t.allAlbum[a].image=t.serverUrl+t.allAlbum[a].image,t.allAlbum[a].releaseDate=t.timestampToTime(t.allAlbum[a].releaseDate),t.$set(t.allAlbum[a],"Flag",!1),t.$set(t.allAlbum[a],"isopen",!1);for(a=0;a<t.allPlaylist.length;a++)null==t.allPlaylist[a].image?t.allPlaylist[a].image=l("T0cg"):t.allPlaylist[a].image=t.serverUrl+t.allPlaylist[a].image,t.$set(t.allPlaylist[a],"Flag",!1),t.$set(t.allPlaylist[a],"isopen",!1);t.songPaginationChange(1),t.albumPaginationChange(1),t.playlistPaginationChange(1),t.state.likeSongs=t.allSong,t.state.likeAlbums=t.allAlbum,t.state.playlistList=t.allPlaylist,sessionStorage.setItem("likeSongs",s()(t.state.likeSongs)),sessionStorage.setItem("likeAlbums",s()(t.state.likeAlbums)),sessionStorage.setItem("playlistList",s()(t.state.playlistList))}).catch(function(t){console.log(t)})},songPaginationChange:function(t){if(this.songList=[],0==this.allSong.length)return!1;if(this.currentPageOfSong=t,t==Math.floor((this.allSong.length-1)/10)+1)for(var e=10*(t-1);e<this.allSong.length;e++)this.songList.push(this.allSong[e]);else for(e=10*(t-1);e<10*t;e++)this.songList.push(this.allSong[e])},albumPaginationChange:function(t){if(this.albumList=[],0==this.allAlbum.length)return!1;if(this.currentPageOfAlbum=t,t==Math.floor((this.allAlbum.length-1)/10)+1)for(var e=10*(t-1);e<this.allAlbum.length;e++)this.albumList.push(this.allAlbum[e]);else for(e=10*(t-1);e<10*t;e++)this.albumList.push(this.allAlbum[e])},playlistPaginationChange:function(t){if(this.playlistList=[],0==this.allPlaylist.length)return!1;if(this.currentPageOfPlaylist=t,t==Math.floor((this.allPlaylist.length-1)/10)+1)for(var e=10*(t-1);e<this.allPlaylist.length;e++)this.playlistList.push(this.allPlaylist[e]);else for(e=10*(t-1);e<10*t;e++)this.playlistList.push(this.allPlaylist[e])}},created:function(){window.scrollTo(0,0)},computed:{serverUrl:function(){return this.$store.state.serverUrl},state:function(){return this.$store.state}},mounted:function(){this.state.isLogin?(this.user.id=this.state.user.id,this.getMyMusic()):this.$router.push("/user/unlogin")}},u={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"wrapper"},[l("v-head"),t._v(" "),l("div",{staticClass:"background",style:t.background,attrs:{data:t.user}},[l("div",{staticStyle:{width:"100%",height:"315px"}},[l("img",{staticClass:"userImage",attrs:{src:t.state.user.image}}),t._v(" "),l("p",{staticStyle:{"font-size":"x-large",color:"white"},attrs:{align:"center"}},[t._v(t._s(t.user.name))])]),t._v(" "),l("el-dialog",{attrs:{title:"创建歌单",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[l("el-form",{ref:"newPlaylist",attrs:{model:t.newPlaylist,rules:t.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"歌单名称",prop:"name"}},[l("el-input",{attrs:{placeholder:"请输入歌单名称"},model:{value:t.newPlaylist.name,callback:function(e){t.$set(t.newPlaylist,"name",e)},expression:"newPlaylist.name"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"歌单简介",prop:"intro"}},[l("el-input",{attrs:{type:"textarea",placeholder:"请输入歌单简介"},model:{value:t.newPlaylist.intro,callback:function(e){t.$set(t.newPlaylist,"intro",e)},expression:"newPlaylist.intro"}})],1),t._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("完成")]),t._v(" "),l("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),l("el-tabs",{staticStyle:{width:"90%",position:"relative",left:"5%",bottom:"-27px"}},[l("el-tab-pane",[l("span",{staticClass:"tab1",attrs:{slot:"label"},slot:"label"},[t._v("我喜欢")]),t._v(" "),l("el-tabs",{staticStyle:{width:"100%"}},[l("el-tab-pane",[l("span",{staticClass:"tab2",attrs:{slot:"label"},slot:"label"},[t._v("歌曲 "+t._s(t.allSong.length))]),t._v(" "),l("div",[l("el-button",{staticStyle:{"background-color":"#31C27C","margin-top":"30px"},attrs:{type:"primary",icon:"el-icon-caret-right",onmouseover:"this.style.backgroundColor='#2CAF6F';",onmouseout:"this.style.backgroundColor='#31C27C';"},on:{click:t.playAllSong}},[t._v("播放全部")]),t._v(" "),l("el-table",{staticClass:"spHeight",staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.songList,stripe:!0},on:{"cell-mouse-enter":t.handleMouseEnter,"cell-mouse-leave":t.handleMouseOut}},[l("el-table-column",{attrs:{label:"歌曲",width:"60"},scopedSlots:t._u([{key:"default",fn:function(t){return[l("router-link",{attrs:{to:{path:"/user/songdetail",query:{id:t.row.id}}}},[l("img",{staticClass:"smallImage",attrs:{src:t.row.image}})])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:" ",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("router-link",{attrs:{to:{path:"/user/songdetail",query:{id:e.row.id}}}},[l("span",{staticClass:"font_link",attrs:{onmouseover:"this.style.color='#31C27C';",onmouseout:"this.style.color='black';"}},[t._v(t._s(e.row.name))])])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:" ",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.Flag?l("span",[l("el-button",{attrs:{icon:"el-icon-caret-right",circle:""},on:{click:function(l){t.playSong(e.$index)}}})],1):t._e(),t._v(" "),e.row.Flag?l("span",[l("el-dropdown",{attrs:{trigger:"click",placement:"bottom-start"},on:{"visible-change":function(l){t.handle(e.row,l)},command:t.handleSongCommand}},[l("el-button",{attrs:{icon:"el-icon-plus",circle:""}}),t._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown",data:t.allPlaylist},slot:"dropdown"},[l("el-dropdown-item",{attrs:{command:{type:"playqueue",params:e.$index}}},[t._v("播放队列")]),t._v(" "),t._l(t.allPlaylist,function(a){return l("el-dropdown-item",{key:a.id,attrs:{command:{type:"playlist",param1:a.id,param2:e.row}}},[t._v(t._s(a.name))])}),t._v(" "),l("el-dropdown-item",{attrs:{command:{type:"newplaylist",params:e.row},divided:""}},[t._v("添加到新歌单")])],2)],1)],1):t._e(),t._v(" "),e.row.Flag?l("span",[l("el-button",{attrs:{icon:"el-icon-download",circle:""},on:{click:function(l){t.downloadSong(e.row)}}})],1):t._e()]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"歌手",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("router-link",{attrs:{to:{path:"/user/artistdetail",query:{id:e.row.artistId}}}},[l("span",{staticClass:"font_link",attrs:{onmouseover:"this.style.color='#31C27C';",onmouseout:"this.style.color='black';"}},[t._v(t._s(e.row.artistName))])])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"专辑",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("router-link",{attrs:{to:{path:"/user/albumdetail",query:{id:e.row.albumId}}}},[l("span",{staticClass:"font_link",attrs:{onmouseover:"this.style.color='#31C27C';",onmouseout:"this.style.color='black';"}},[t._v(t._s(e.row.albumName))])])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"时长"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.Flag?l("span",[l("el-button",{attrs:{icon:"el-icon-delete",circle:""},on:{click:function(l){t.deleteSong(e.row,e.$index)}}})],1):l("span",{staticClass:"font_other"},[t._v(t._s(e.row.duration))])]}}])})],1),t._v(" "),t.allSong.length>10?l("el-pagination",{attrs:{"current-page":t.currentPageOfSong,align:"center",layout:"prev, pager, next",total:t.allSong.length},on:{"update:currentPage":function(e){t.currentPageOfSong=e},"current-change":t.songPaginationChange}}):t._e()],1)]),t._v(" "),l("el-tab-pane",[l("span",{staticClass:"tab2",attrs:{slot:"label"},slot:"label"},[t._v("专辑 "+t._s(t.allAlbum.length))]),t._v(" "),l("div",[l("el-table",{staticClass:"spHeight",staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:t.albumList,stripe:!0},on:{"cell-mouse-enter":t.handleMouseEnter,"cell-mouse-leave":t.handleMouseOut}},[l("el-table-column",{attrs:{label:"专辑",width:"60"},scopedSlots:t._u([{key:"default",fn:function(t){return[l("router-link",{attrs:{to:{path:"/user/albumdetail",query:{id:t.row.id}}}},[l("img",{staticClass:"smallImage",attrs:{src:t.row.image}})])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:" "},scopedSlots:t._u([{key:"default",fn:function(e){return[l("router-link",{attrs:{to:{path:"/user/albumdetail",query:{id:e.row.id}}}},[l("span",{staticClass:"font_link",attrs:{onmouseover:"this.style.color='#31C27C';",onmouseout:"this.style.color='black';"}},[t._v(t._s(e.row.name))])])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:" ",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.Flag?l("span",[l("el-button",{attrs:{icon:"el-icon-caret-right",circle:""},on:{click:function(l){t.playAlbum(e.row)}}})],1):t._e(),t._v(" "),e.row.Flag?l("span",[l("el-dropdown",{attrs:{trigger:"click",placement:"bottom-start"},on:{"visible-change":function(l){t.handle(e.row,l)},command:t.handleAlbumCommand}},[l("el-button",{attrs:{icon:"el-icon-plus",circle:""}}),t._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown",data:t.allPlaylist},slot:"dropdown"},[l("el-dropdown-item",{attrs:{command:{type:"playqueue",params:e.row}}},[t._v("播放队列")]),t._v(" "),t._l(t.allPlaylist,function(a){return l("el-dropdown-item",{key:a.id,attrs:{command:{type:"playlist",param1:a.id,param2:e.row}}},[t._v(t._s(a.name))])}),t._v(" "),l("el-dropdown-item",{attrs:{command:{type:"newplaylist",params:e.row},divided:""}},[t._v("添加到新歌单")])],2)],1)],1):t._e()]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"曲目数",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticClass:"font_other"},[t._v(t._s(e.row.count))])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"歌手",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("router-link",{attrs:{to:{path:"/user/artistdetail",query:{id:e.row.artistId}}}},[l("span",{staticClass:"font_link",attrs:{onmouseover:"this.style.color='#31C27C';",onmouseout:"this.style.color='black';"}},[t._v(t._s(e.row.artistName))])])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"发行时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.Flag?l("span",[l("el-button",{attrs:{icon:"el-icon-delete",circle:""},on:{click:function(l){t.deleteAlbum(e.row,e.$index)}}})],1):l("span",{staticClass:"font_other"},[t._v(t._s(e.row.releaseDate))])]}}])})],1),t._v(" "),t.allAlbum.length>10?l("el-pagination",{attrs:{"current-page":t.currentPageOfAlbum,align:"center",layout:"prev, pager, next",total:t.allAlbum.length},on:{"update:currentPage":function(e){t.currentPageOfAlbum=e},"current-change":t.albumPaginationChange}}):t._e()],1)])],1)],1),t._v(" "),l("el-tab-pane",[l("span",{staticClass:"tab1",attrs:{slot:"label"},slot:"label"},[t._v("我创建的歌单")]),t._v(" "),l("div",[l("el-button",{staticStyle:{"margin-top":"10px"},attrs:{icon:"el-icon-plus"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("新建歌单")]),t._v(" "),l("el-table",{staticClass:"spHeight",staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.playlistList,stripe:!0},on:{"cell-mouse-enter":t.handleMouseEnter,"cell-mouse-leave":t.handleMouseOut}},[l("el-table-column",{attrs:{label:"歌单",width:"60"},scopedSlots:t._u([{key:"default",fn:function(t){return[l("router-link",{attrs:{to:{path:"/user/playlistdetail",query:{id:t.row.id}}}},[l("img",{staticClass:"smallImage",attrs:{src:t.row.image}})])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:" ",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("router-link",{attrs:{to:{path:"/user/playlistdetail",query:{id:e.row.id}}}},[l("span",{staticClass:"font_link",attrs:{onmouseover:"this.style.color='#31C27C';",onmouseout:"this.style.color='black';"}},[t._v(t._s(e.row.name))])])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:" ",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.Flag?l("span",[l("el-button",{attrs:{icon:"el-icon-caret-right",circle:""},on:{click:function(l){t.playPlaylist(e.row)}}})],1):t._e(),t._v(" "),e.row.Flag?l("span",[l("el-dropdown",{attrs:{trigger:"click",placement:"bottom-start"},on:{"visible-change":function(l){t.handle(e.row,l)},command:t.handlePlaylistCommand}},[l("el-button",{attrs:{icon:"el-icon-plus",circle:""}}),t._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown",data:t.allPlaylist},slot:"dropdown"},[l("el-dropdown-item",{attrs:{command:{type:"playqueue",params:e.row}}},[t._v("播放队列")]),t._v(" "),t._l(t.allPlaylist,function(a){return l("el-dropdown-item",{key:a.id,attrs:{command:{type:"playlist",param1:a.id,param2:e.row}}},[t._v(t._s(a.name))])}),t._v(" "),l("el-dropdown-item",{attrs:{command:{type:"newplaylist",params:e.row},divided:""}},[t._v("添加到新歌单")])],2)],1)],1):t._e()]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"曲目数",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("span",{staticClass:"font_other"},[t._v(t._s(e.row.count))])]}}])}),t._v(" "),l("el-table-column",{attrs:{label:" "},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.Flag?l("span",[l("el-button",{attrs:{icon:"el-icon-delete",circle:""},on:{click:function(l){t.deletePlaylist(e.row,e.$index)}}})],1):t._e()]}}])})],1),t._v(" "),t.allPlaylist.length>10?l("el-pagination",{attrs:{"current-page":t.currentPageOfPlaylist,align:"center",layout:"prev, pager, next",total:t.allPlaylist.length},on:{"update:currentPage":function(e){t.currentPageOfPlaylist=e},"current-change":t.playlistPaginationChange}}):t._e()],1)])],1),t._v(" "),l("br",{staticStyle:{clear:"both"}}),t._v(" "),l("br",{staticStyle:{clear:"both"}})],1),t._v(" "),l("v-foot")],1)},staticRenderFns:[]};var c=l("vSla")(r,u,!1,function(t){l("o/kD")},null,null);e.default=c.exports},lkCq:function(t,e,l){t.exports=l.p+"static/img/我的音乐.f992c29.jpg"},"o/kD":function(t,e){}});
//# sourceMappingURL=6.7887e3058815bbc039a3.js.map