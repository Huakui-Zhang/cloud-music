{"version":3,"sources":["webpack:///src/components/admin/songdetail.vue","webpack:///./src/components/admin/songdetail.vue?4175","webpack:///./src/components/admin/songdetail.vue"],"names":["songdetail","created","this","id","$route","query","mounted","getIntro","components","vHead","header","vFoot","footer","computed","state","$store","data","isfold","flag","img_change","song","name","artistId","artistName","language","style","albumId","albumName","duration","releaseDate","lyricsPath","filePath","image","editSong","dialogVisible","ruleForm","des","rules","required","message","trigger","min","max","methods","deleteSong","_this","$confirm","then","_","axios","get","serverUrl","params","response","$message","showClose","type","$router","go","catch","err","console","log","edit","finishEdit","_song","_this2","submitForm","$refs","upload","submit","post","getStyleNumber","res","tip","alert","error","formName","_this3","validate","valid","_id","_this4","timestampToTime","textHTML","document","getElementById","innerHTML","replace","timestamp","date","Date","Y","getFullYear","M","getMonth","D","getDate","beforeAvatarUpload","file","isLt2M","size","handleAvatarSuccess","previewImg","fileList","url","length","splice","handleError","handleLyrSuccess","_this5","uploadLyr","clearFiles","uploadSongSuccess","_this6","uploadSong","number","i","admin_songdetail","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","gutter","span","offset","staticStyle","margin-top","height","width","align","src","margin-bottom","_s","tag","to","path","cursor","color","onmouseover","onmouseout","float","clear","display","background-color","margin-right","icon","on","click","ref","action","on-success","on-error","slot","font-size","class","fold","border","outline","$event","_e","title","visible","center","update:visible","model","label-width","label","prop","value","callback","$$v","$set","expression","on-change","show-file-list","before-upload","accept","auto-upload","disabled","placeholder","format","value-format","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.f79f4a8265426d0f5cf3.js","sourcesContent":["<template>\r\n\t<div class=\"wrapper\">\r\n\t\t<v-head></v-head>\r\n\t\t<div class=\"Asong_detail\">\r\n\t\t\t<el-row :gutter=\"50\">\r\n\t\t\t\t<el-col :span=\"4\" :offset=\"4\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<img align=right style=\"margin-top:25px;height:235px;width:235px\" :src=\"song.image\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col :span=\"9\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p class=\"font_songName\" style=\"margin-bottom:10px\">{{song.name}}</p>\r\n\t\t\t\t\t\t<i class=\"el-icon-service\"></i>\r\n\t\t\t\t\t\t<router-link tag=\"a\" :to=\"{path:'/admin/artistdetail',query:{id:song.artistId}}\">\r\n\t\t\t\t\t\t\t<span class=\"font_songArtist\"  style=\"cursor:pointer;color:#2C3E50\" onmouseover=\"this.style.color='#31C27C';\" onmouseout=\"this.style.color='#2C3E50';\">{{song.artistName}}</span>\r\n\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<router-link tag=\"a\" :to=\"{path:'/admin/artistdetail',query:{id:song.artistId}}\">\r\n\t\t\t\t\t\t\t\t<p class=\"font_other\" style=\"float:left;width:250px;color:#2C3E50;cursor:pointer\" onmouseover=\"this.style.color='#31C27C';\" onmouseout=\"this.style.color='#2C3E50';\">专辑 : {{song.albumName}}</p>\r\n\t\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t\t<p class=\"font_other\" style=\"float:left\">语种 : {{song.language}}</p>\r\n\t\t\t\t\t\t\t<div style=\"clear:both\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<span class=\"font_other\" style=\"display:block;width:250px;float:left\">流派 : {{song.style}}</span>\r\n\t\t\t\t\t\t\t<span class=\"font_other\">发行时间 : {{song.releaseDate}}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style=\"margin-top:20px\">\r\n\t\t\t\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-edit\" style=\"background-color:#31C27C;display:block;float:left;margin-right:10px\" onmouseover=\"this.style.backgroundColor='#2CAF6F';\" onmouseout=\"this.style.backgroundColor='#31C27C';\" v-on:click=\"edit\">编辑</el-button>\r\n\t\t\t\t\t\t\t<el-upload action=\"/hifive/upload/uploadSongFile\" :data={id:this.song.id} :on-success=\"uploadSongSuccess\" :on-error=\"handleError\" ref=\"uploadSong\" style=\"height:90px;float:left;margin-right:10px\">\r\n\t\t\t\t\t\t\t\t<el-button slot=\"trigger\">上传歌曲文件</el-button>\r\n\t\t\t\t\t\t\t</el-upload>\r\n\t\t\t\t\t\t\t<el-button icon=\"el-icon-delete\" v-on:click=\"deleteSong\">删除</el-button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-row :gutter=\"50\" style=\"margin-top:30px;\">\r\n\t\t\t\t<el-col :span=\"8\" :offset=\"3\">\r\n\t\t\t\t\t<div style=\"margin-bottom:30px;\">\r\n\t\t\t\t\t\t<p class=\"font_songLry\" style=\"font-size:20px\">歌词</p>\r\n\t\t\t\t\t\t<el-upload class=\"lyr-uploader\" action=\"/hifive/upload/uploadLyrics\" :data={id:this.song.id} :on-success=\"handleLyrSuccess\" :on-error=\"handleError\" ref=\"uploadLyr\">\r\n\t\t\t\t\t\t\t<el-button slot=\"trigger\" size=\"small\" type=\"primary\">上传歌词</el-button>\r\n\t\t\t\t\t\t</el-upload>\r\n\t\t\t\t\t\t<div v-bind:class=\"{fold: isfold}\" id=\"lyr\"></div>\r\n\t\t\t\t\t\t<button v-if=\"isfold\" @click=\"isfold = false\" style=\"border:0px;background-color:transparent;margin-top:10px;outline:none;cursor:pointer;color:#31C27C\">[展开]</button>\r\n\t\t\t\t\t\t<button v-if=\"!isfold\" @click=\"isfold = true\" style=\"border:0px;background-color:transparent;margin-top:10px;outline:none;cursor:pointer;color:#31C27C\">[收起]</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-row>\r\n\t\t\t<el-dialog title=\"编辑歌曲信息\" :visible.sync=\"dialogVisible\" width=\"40%\" :center=\"true\">\r\n\t\t\t\t<el-form :model=\"editSong\" :rules=\"rules\" ref=\"editSong\" label-width=\"100px\">\r\n\t\t\t\t\t<el-form-item label=\"歌名\" prop=\"name\">\r\n\t\t\t\t\t\t<el-input v-model=\"editSong.name\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"歌曲图片\" prop=\"image\">\r\n\t\t\t\t\t\t<img :src=\"editSong.image\" class=\"avatar\" style=\"margin-right:20px\">\r\n\t\t\t\t\t\t<el-upload class=\"avatar-uploader\" ref=\"upload\" :data={id:editSong.id} :on-change=\"previewImg\" action=\"/hifive/upload/uploadSongImage\" :show-file-list=\"false\" :on-success=\"handleAvatarSuccess\" :before-upload=\"beforeAvatarUpload\" :on-error=\"handleError\" accept=\".jpg, .jpeg, png\" :auto-upload=\"false\">\r\n\t\t\t\t\t\t\t<el-button slot=\"trigger\" size=\"small\" type=\"primary\">点击更改图片</el-button>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div>图片大小不超过2M</div>\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div>上传图片格式为:jpg/jpeg/png</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</el-upload>\r\n\t\t\t\t\t\t<div style=\"clear:both\"></div>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"歌手名\" prop=\"artistName\">\r\n\t\t\t\t\t\t<el-input v-model=\"editSong.artistName\" :disabled=\"true\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"专辑\" prop=\"albumName\">\r\n\t\t\t\t\t\t<el-input v-model=\"editSong.albumName\" :disabled=\"true\"></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"语种\" prop=\"language\">\r\n\t\t\t\t\t\t<el-input v-model=\"editSong.language\" ></el-input>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"流派\" prop=\"style\">\r\n\t\t\t\t\t\t<el-select v-model=\"editSong.style\" :placeholder=\"editSong.style\">\r\n\t\t\t\t\t\t\t<el-option label=\"POP 流行\" value=\"POP 流行\"></el-option>\r\n\t\t\t\t\t\t\t<el-option label=\"ELECTRONIC 电子\" value=\"ELECTRONIC 电子\"></el-option>\r\n\t\t\t\t\t\t\t<el-option label=\"ROCK 摇滚\" value=\"ROCK 摇滚\"></el-option>\r\n\t\t\t\t\t\t\t<el-option label=\"CLASSIC 古典\" value=\"CLASSIC 古典\"></el-option>\r\n\t\t\t\t\t\t\t<el-option label=\"FOLK 民谣\" value=\"FOLK 民谣\"></el-option>\r\n\t\t\t\t\t\t\t<el-option label=\"R&B\" value=\"R&B\"></el-option>\r\n\t\t\t\t\t\t\t<el-option label=\"其他\" value=\"其他\"></el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item label=\"发行时间\" prop=\"releaseDate\">\r\n\t\t\t\t\t\t<!-- <el-input v-model=\"editSong.artistName\" ></el-input> -->\r\n\t\t\t\t\t\t<el-date-picker type=\"date\" placeholder=\"请选择发行时间\" format=\"yyyy年 MM月 dd日\" value-format=\"yyyy-MM-dd\" v-model=\"editSong.releaseDate\" style=\"width: 100%;\"></el-date-picker>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t<el-form-item>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"finishEdit('editSong')\">完成</el-button>\r\n\t\t\t\t\t\t<el-button @click=\"dialogVisible=false\">取消</el-button>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t</el-form>\r\n\t\t\t</el-dialog>\r\n\t\t</div>\r\n\t\t<v-foot></v-foot>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport vHead from './header.vue'\r\n\timport vFoot from '../user/common/footer.vue'\r\n\r\n\texport default {\r\n\t\tcreated() {\r\n\t\t\tthis.id = this.$route.query.id;\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.getIntro(this.id);  \r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tvHead,\r\n\t\t\tvFoot\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tstate () {\r\n\t\t\t\treturn this.$store.state;\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata () {\r\n\t\t\treturn {\r\n\t\t\t\tisfold: true,\r\n\t\t\t\tid: '',\r\n\t\t\t\tflag: false,\r\n\t\t\t\timg_change: false,\r\n\t\t\t\tsong:{\r\n\t\t\t\t\tid:'',\r\n\t\t\t\t\tname:'',\r\n\t\t\t\t\tartistId: '',\r\n\t\t\t\t\tartistName:'',\r\n\t\t\t\t\tlanguage: '',\r\n\t\t\t\t\tstyle:'',\r\n\t\t\t\t\talbumId: '',\r\n\t\t\t\t\talbumName:'',\r\n\t\t\t\t\tduration: '',\r\n\t\t\t\t\treleaseDate:'',\r\n\t\t\t\t\tlyricsPath: \"\",\r\n\t\t\t\t\tfilePath: '',\r\n\t\t\t\t\timage: \"\",\r\n\t\t\t\t},\r\n\t\t\t\teditSong: {\r\n\t\t\t\t\tid:'',\r\n\t\t\t\t\tname:'',\r\n\t\t\t\t\tartistId: '',\r\n\t\t\t\t\tartistName:'',\r\n\t\t\t\t\tlanguage: '',\r\n\t\t\t\t\tstyle:'',\r\n\t\t\t\t\talbumId: '',\r\n\t\t\t\t\talbumName:'',\r\n\t\t\t\t\tduration: '',\r\n\t\t\t\t\treleaseDate:'',\r\n\t\t\t\t\tlyricsPath: \"\",\r\n\t\t\t\t\tfilePath: '',\r\n\t\t\t\t\timage: \"\",\r\n\t\t\t\t},\r\n\t\t\t\tdialogVisible:false,\r\n\t\t\t\truleForm: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tdes: ''\r\n\t\t\t\t},\r\n\t\t\t\trules: {\r\n\t\t\t\t\tname: [\r\n\t\t\t\t\t{ required: true, message: '请输入歌曲名称', trigger: 'blur' },\r\n\t\t\t\t\t{ min: 1, max: 30, message: '长度在 1 到 30 个字符', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tartistName: [\r\n\t\t\t\t\t{ required: true, message: '请输入歌手名称', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\talbumName: [\r\n\t\t\t\t\t{ required: true, message: '请输入专辑名称', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tlanguage: [\r\n\t\t\t\t\t{ required: true, message: '请输入语种', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\tstyle: [\r\n\t\t\t\t\t{ required: true, message: '请输入流派', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t\treleaseDate: [\r\n\t\t\t\t\t{ required: true, message: '请输入发行时间', trigger: 'blur' }\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t\tstyle: ['', 'POP 流行', 'ELECTRONIC 电子','ROCK 摇滚', 'CLASSIC 古典','FOLK 民谣', 'R&B', '其他'],\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//删除歌曲操作\r\n\t\t\tdeleteSong:function(){ \r\n\t\t\t\tthis.$confirm('确认删除？')\r\n\t\t\t\t.then(_ => {\r\n\t\t\t\t\tthis.axios.get(this.serverUrl+'/song/removeSong',{\r\n\t\t\t\t\t\tparams:{\r\n\t\t\t\t\t\t\tid:this.song.id,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(response =>{\r\n\t\t\t\t\t\tif(response){\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\t\tmessage: '歌曲删除成功',\r\n\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.$router.go(-1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\t\tmessage: '会话超时',\r\n\t\t\t\t\t\t\t\ttype: 'error'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(err){\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(_ => {});\r\n\t\t\t},\r\n\r\n\t\t\t//编辑歌曲信息\r\n\t\t\tedit: function() {\r\n\t\t\t\tthis.dialogVisible = true;\r\n\t\t\t\tthis.img_change = false;\r\n\t\t\t\tthis.editSong.id = this.song.id;\r\n\t\t\t\tthis.editSong.name = this.song.name;\r\n\t\t\t\tthis.editSong.artistId = this.song.artistId;\r\n\t\t\t\tthis.editSong.artistName = this.song.artistName;\r\n\t\t\t\tthis.editSong.language = this.song.language;\r\n\t\t\t\tthis.editSong.style = this.song.style;\r\n\t\t\t\tthis.editSong.albumId = this.song.albumId;\r\n\t\t\t\tthis.editSong.albumName = this.song.albumName;\r\n\t\t\t\tthis.editSong.duration = this.song.duration;\r\n\t\t\t\tthis.editSong.releaseDate = this.song.releaseDate;\r\n\t\t\t\tthis.editSong.lyricsPath = this.song.lyricsPath;\r\n\t\t\t\tthis.editSong.filePath = this.song.filePath;\r\n\t\t\t\tthis.editSong.image = this.song.image;\r\n\t\t\t},\r\n\r\n\t\t\t//完成编辑歌曲操作\r\n\t\t\tfinishEdit: function(_song) {\r\n\t\t\t\tthis.submitForm(_song);\r\n\t\t\t\tif(this.flag) {\r\n\t\t\t\t\tthis.flag = false;\r\n\t\t\t\t\tif(this.img_change) {\r\n\t\t\t\t\t\tthis.$refs.upload.submit();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.axios.post(this.$store.state.serverUrl + \"/song/modifySong\", {\r\n\t\t\t\t\t\tid: this.editSong.id,\r\n\t\t\t\t\t\tname: this.editSong.name,\r\n\t\t\t\t\t\tlanguage: this.editSong.language,\r\n\t\t\t\t\t\tstyle: this.getStyleNumber(this.editSong.style),\r\n\t\t\t\t\t\treleaseDate: this.editSong.releaseDate\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tvar tip = res.data;\r\n\t\t\t\t\t\tif(tip == true) {\r\n\t\t\t\t\t\t\talert(\"修改成功\");\r\n\t\t\t\t\t\t\tthis.dialogVisible = false;\r\n\t\t\t\t\t\t\tif(!this.img_change){\r\n\t\t\t\t\t\t\t\tthis.getIntro(this.id);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.img_change = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(tip == false) {\r\n\t\t\t\t\t\t\talert(\"修改失败\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\t\t\t\r\n\t\t\t},\r\n\r\n\t\t\t//验证表单\r\n\t\t\tsubmitForm:function(formName){\r\n\t\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tthis.flag = true;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t// this.dialogFormVisible = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log('error submit!!');\r\n\t\t\t\t\t\tthis.flag = false;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t//获取歌曲详细信息\r\n\t\t\tgetIntro: function(_id) {\r\n\t\t\t\tthis.axios.get(this.$store.state.serverUrl + \"/song/getInfo\", {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tid: _id,\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.song = res.data;\r\n\t\t\t\t\tif(this.song.image == null) {\r\n\t\t\t\t\t\tthis.song.image = \"../../../assets/暂无图片.png\";\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\tthis.song.image = this.$store.state.serverUrl + this.song.image;\r\n\t\t\t\t\t// this.song.image = this.$store.state.serverUrl + this.song.image;\r\n\t\t\t\t\tthis.song.lyricsPath = this.$store.state.serverUrl + this.song.lyricsPath;\r\n\t\t\t\t\tthis.song.releaseDate = this.timestampToTime(this.song.releaseDate);\r\n\t\t\t\t\tthis.song.style = this.style[this.song.style];\r\n\r\n\t\t\t\t\tthis.axios.get(this.song.lyricsPath, {\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tvar textHTML=res.data;\r\n\t\t\t\t\t\tdocument.getElementById(\"lyr\").innerHTML=textHTML.replace(/(\\n)+|(\\r\\n)+/g,\"<br>\");\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.editSong.id = this.song.id;\r\n\t\t\t\t\tthis.editSong.name = this.song.name;\r\n\t\t\t\t\tthis.editSong.artistId = this.song.artistId;\r\n\t\t\t\t\tthis.editSong.artistName = this.song.artistName;\r\n\t\t\t\t\tthis.editSong.language = this.song.language;\r\n\t\t\t\t\tthis.editSong.style = this.song.style;\r\n\t\t\t\t\tthis.editSong.albumId = this.song.albumId;\r\n\t\t\t\t\tthis.editSong.albumName = this.song.albumName;\r\n\t\t\t\t\tthis.editSong.duration = this.song.duration;\r\n\t\t\t\t\tthis.editSong.releaseDate = this.song.releaseDate;\r\n\t\t\t\t\tthis.editSong.lyricsPath = this.song.lyricsPath;\r\n\t\t\t\t\tthis.editSong.filePath = this.song.filePath;\r\n\t\t\t\t\tthis.editSong.image = this.song.image;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 转换时间格式\r\n\t\t\ttimestampToTime: function(timestamp) {\r\n\t\t        var date = new Date(timestamp);//时间戳为10位需*1000，时间戳为13位的话不需乘1000\r\n\t\t        var Y = date.getFullYear() + '-';\r\n\t\t        var M = (date.getMonth()+1 < 10 ? '0'+(date.getMonth()+1) : date.getMonth()+1) + '-';\r\n\t\t        var D = date.getDate();\r\n\t\t        if(D < 10)\r\n\t\t        \tD = '0' + D;\r\n\t\t        return Y+M+D;\r\n\t      \t},\r\n\r\n\t      \t//图片上传前的操作\r\n\t      \tbeforeAvatarUpload: function(file) {\r\n\t\t\t\tconst isLt2M = file.size / 1024 / 1024 < 2;\r\n\t\t\t\tif (!isLt2M) {\r\n\t\t\t\t\tthis.$message.error('上传头像图片大小不能超过 2MB!');\r\n\t\t\t\t}\r\n\t\t\t\treturn isLt2M;\r\n\t\t\t},\r\n\t\t\t// submitUpload: function() {\r\n\t\t\t// \tthis.$refs.upload.submit();\r\n\t\t\t// },\r\n\r\n\t\t\t//图片上传成功时候的操作\r\n\t\t\thandleAvatarSuccess: function() {\r\n\t\t\t\tthis.getIntro(this.id);\r\n\t\t\t\t// this.submitForm(_song);\r\n\t\t\t\t// if(this.flag) {\r\n\t\t\t\t// \tthis.flag = false;\r\n\t\t\t\t// \tthis.axios.post(this.$store.state.serverUrl + \"/song/modifySong\", {\r\n\t\t\t\t// \t\tid: this.editSong.id,\r\n\t\t\t\t// \t\tname: this.editSong.name,\r\n\t\t\t\t// \t\tlanguage: this.editSong.language,\r\n\t\t\t\t// \t\tstyle: this.getStyleNumber(this.editSong.style),\r\n\t\t\t\t// \t\treleaseDate: this.editSong.releaseDate\r\n\t\t\t\t// \t})\r\n\t\t\t\t// \t.then(res => {\r\n\t\t\t\t// \t\tvar tip = res.data;\r\n\t\t\t\t// \t\tif(tip == true) {\r\n\t\t\t\t// \t\t\talert(\"修改成功\");\r\n\t\t\t\t// \t\t\tthis.dialogVisible = false;\r\n\t\t\t\t// \t\t\tthis.getIntro(this.id);\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\telse if(tip == false) {\r\n\t\t\t\t// \t\t\talert(\"修改失败\");\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t})\r\n\t\t\t\t// \t.catch(function (error) {\r\n\t\t\t\t// \t\tconsole.log(error);\r\n\t\t\t\t// \t});\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\r\n\t\t\t//图片发生变化时候的操作\r\n\t\t\tpreviewImg: function(file,fileList) {\r\n\t\t\t\tthis.editSong.image = file.url;\r\n\t\t\t\tthis.img_change = true;\r\n\t\t\t\tif(fileList.length > 1) {\r\n\t\t\t\t\tfileList.splice(0, 1);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t//图片上传失败时候的操作\r\n\t\t\thandleError: function(err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\talert('上传失败');\r\n\t\t\t\treturn;\r\n\t\t\t},\r\n\r\n\t\t\t//歌词上传成功时候的操作\r\n\t\t\thandleLyrSuccess: function() {\r\n\t\t\t\tthis.$refs.uploadLyr.clearFiles();\r\n\t\t\t\tthis.axios.get(this.$store.state.serverUrl + \"/song/getInfo\", {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tid: this.song.id,\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.song.lyricsPath = this.$store.state.serverUrl + res.data.lyricsPath;\r\n\t\t\t\t\tthis.axios.get(this.song.lyricsPath, {\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tvar textHTML=res.data;\r\n\t\t\t\t\t\tdocument.getElementById(\"lyr\").innerHTML=textHTML.replace(/(\\n)+|(\\r\\n)+/g,\"<br>\");\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.editSong.lyricsPath = this.song.lyricsPath;\r\n\t\t\t\t\talert('上传成功');\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t//歌曲文件上传成功时候的操作\r\n\t\t\tuploadSongSuccess: function() {\r\n\t\t\t\tthis.$refs.uploadSong.clearFiles();\r\n\t\t\t\tthis.axios.get(this.$store.state.serverUrl + \"/song/getInfo\", {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tid: this.song.id,\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.song.filePath = this.$store.state.serverUrl + res.data.filePath;\r\n\t\t\t\t\tthis.editSong.filePath = this.song.filePath;\r\n\t\t\t\t\talert('上传成功');\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t//转化风格\r\n\t\t\tgetStyleNumber:function(style){\r\n\t\t\t\tvar number=-1;\r\n\t\t\t\tfor(var i=0;i<this.style.length;i++){\r\n\t\t\t\t\tif(style==this.style[i]){\r\n\t\t\t\t\t\tnumber=i;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn number;\r\n\t\t\t},\r\n\t\t\t// exceedTip: function() {\r\n\t\t\t// \tthis.$message('每次最多上传一个文件');\r\n\t\t\t// },\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.Asong_detail {\r\n\t\tmin-height: 600px;\r\n\t\tpadding: 50px;\r\n\t}\r\n\t.font_songName{\r\n\t\tfont-family:\"Microsoft YaHei\";\r\n\t\tfont-size:xx-large;\r\n\t}\r\n\ta {\r\n\t\ttext-decoration:none;\r\n\t\t out-line: none;\r\n\t}\r\n\r\n\t.fold {\r\n\t\tmax-height: 400px;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.avatar {\r\n\t\twidth: 140px;\r\n\t\theight: 140px;\r\n\t\tfloat: left;\r\n\t\tdisplay: block;\r\n\t}\r\n\t.lyr-uploader {\r\n\t\theight: 60px;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/admin/songdetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('v-head'),_vm._v(\" \"),_c('div',{staticClass:\"Asong_detail\"},[_c('el-row',{attrs:{\"gutter\":50}},[_c('el-col',{attrs:{\"span\":4,\"offset\":4}},[_c('div',[_c('img',{staticStyle:{\"margin-top\":\"25px\",\"height\":\"235px\",\"width\":\"235px\"},attrs:{\"align\":\"right\",\"src\":_vm.song.image}})])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":9}},[_c('div',[_c('p',{staticClass:\"font_songName\",staticStyle:{\"margin-bottom\":\"10px\"}},[_vm._v(_vm._s(_vm.song.name))]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-service\"}),_vm._v(\" \"),_c('router-link',{attrs:{\"tag\":\"a\",\"to\":{path:'/admin/artistdetail',query:{id:_vm.song.artistId}}}},[_c('span',{staticClass:\"font_songArtist\",staticStyle:{\"cursor\":\"pointer\",\"color\":\"#2C3E50\"},attrs:{\"onmouseover\":\"this.style.color='#31C27C';\",\"onmouseout\":\"this.style.color='#2C3E50';\"}},[_vm._v(_vm._s(_vm.song.artistName))])]),_vm._v(\" \"),_c('div',[_c('router-link',{attrs:{\"tag\":\"a\",\"to\":{path:'/admin/artistdetail',query:{id:_vm.song.artistId}}}},[_c('p',{staticClass:\"font_other\",staticStyle:{\"float\":\"left\",\"width\":\"250px\",\"color\":\"#2C3E50\",\"cursor\":\"pointer\"},attrs:{\"onmouseover\":\"this.style.color='#31C27C';\",\"onmouseout\":\"this.style.color='#2C3E50';\"}},[_vm._v(\"专辑 : \"+_vm._s(_vm.song.albumName))])]),_vm._v(\" \"),_c('p',{staticClass:\"font_other\",staticStyle:{\"float\":\"left\"}},[_vm._v(\"语种 : \"+_vm._s(_vm.song.language))]),_vm._v(\" \"),_c('div',{staticStyle:{\"clear\":\"both\"}})],1),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"font_other\",staticStyle:{\"display\":\"block\",\"width\":\"250px\",\"float\":\"left\"}},[_vm._v(\"流派 : \"+_vm._s(_vm.song.style))]),_vm._v(\" \"),_c('span',{staticClass:\"font_other\"},[_vm._v(\"发行时间 : \"+_vm._s(_vm.song.releaseDate))])]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-button',{staticStyle:{\"background-color\":\"#31C27C\",\"display\":\"block\",\"float\":\"left\",\"margin-right\":\"10px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"onmouseover\":\"this.style.backgroundColor='#2CAF6F';\",\"onmouseout\":\"this.style.backgroundColor='#31C27C';\"},on:{\"click\":_vm.edit}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-upload',{ref:\"uploadSong\",staticStyle:{\"height\":\"90px\",\"float\":\"left\",\"margin-right\":\"10px\"},attrs:{\"action\":\"/hifive/upload/uploadSongFile\",\"data\":{id:this.song.id},\"on-success\":_vm.uploadSongSuccess,\"on-error\":_vm.handleError}},[_c('el-button',{attrs:{\"slot\":\"trigger\"},slot:\"trigger\"},[_vm._v(\"上传歌曲文件\")])],1),_vm._v(\" \"),_c('el-button',{attrs:{\"icon\":\"el-icon-delete\"},on:{\"click\":_vm.deleteSong}},[_vm._v(\"删除\")])],1)],1)])],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-top\":\"30px\"},attrs:{\"gutter\":50}},[_c('el-col',{attrs:{\"span\":8,\"offset\":3}},[_c('div',{staticStyle:{\"margin-bottom\":\"30px\"}},[_c('p',{staticClass:\"font_songLry\",staticStyle:{\"font-size\":\"20px\"}},[_vm._v(\"歌词\")]),_vm._v(\" \"),_c('el-upload',{ref:\"uploadLyr\",staticClass:\"lyr-uploader\",attrs:{\"action\":\"/hifive/upload/uploadLyrics\",\"data\":{id:this.song.id},\"on-success\":_vm.handleLyrSuccess,\"on-error\":_vm.handleError}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"上传歌词\")])],1),_vm._v(\" \"),_c('div',{class:{fold: _vm.isfold},attrs:{\"id\":\"lyr\"}}),_vm._v(\" \"),(_vm.isfold)?_c('button',{staticStyle:{\"border\":\"0px\",\"background-color\":\"transparent\",\"margin-top\":\"10px\",\"outline\":\"none\",\"cursor\":\"pointer\",\"color\":\"#31C27C\"},on:{\"click\":function($event){_vm.isfold = false}}},[_vm._v(\"[展开]\")]):_vm._e(),_vm._v(\" \"),(!_vm.isfold)?_c('button',{staticStyle:{\"border\":\"0px\",\"background-color\":\"transparent\",\"margin-top\":\"10px\",\"outline\":\"none\",\"cursor\":\"pointer\",\"color\":\"#31C27C\"},on:{\"click\":function($event){_vm.isfold = true}}},[_vm._v(\"[收起]\")]):_vm._e()],1)])],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"编辑歌曲信息\",\"visible\":_vm.dialogVisible,\"width\":\"40%\",\"center\":true},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"editSong\",attrs:{\"model\":_vm.editSong,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"歌名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.editSong.name),callback:function ($$v) {_vm.$set(_vm.editSong, \"name\", $$v)},expression:\"editSong.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"歌曲图片\",\"prop\":\"image\"}},[_c('img',{staticClass:\"avatar\",staticStyle:{\"margin-right\":\"20px\"},attrs:{\"src\":_vm.editSong.image}}),_vm._v(\" \"),_c('el-upload',{ref:\"upload\",staticClass:\"avatar-uploader\",attrs:{\"data\":{id:_vm.editSong.id},\"on-change\":_vm.previewImg,\"action\":\"/hifive/upload/uploadSongImage\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload,\"on-error\":_vm.handleError,\"accept\":\".jpg, .jpeg, png\",\"auto-upload\":false}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"点击更改图片\")]),_vm._v(\" \"),_c('div',[_c('div',[_vm._v(\"图片大小不超过2M\")]),_vm._v(\" \"),_c('div',[_vm._v(\"上传图片格式为:jpg/jpeg/png\")])])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"clear\":\"both\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"歌手名\",\"prop\":\"artistName\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.editSong.artistName),callback:function ($$v) {_vm.$set(_vm.editSong, \"artistName\", $$v)},expression:\"editSong.artistName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"专辑\",\"prop\":\"albumName\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.editSong.albumName),callback:function ($$v) {_vm.$set(_vm.editSong, \"albumName\", $$v)},expression:\"editSong.albumName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"语种\",\"prop\":\"language\"}},[_c('el-input',{model:{value:(_vm.editSong.language),callback:function ($$v) {_vm.$set(_vm.editSong, \"language\", $$v)},expression:\"editSong.language\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"流派\",\"prop\":\"style\"}},[_c('el-select',{attrs:{\"placeholder\":_vm.editSong.style},model:{value:(_vm.editSong.style),callback:function ($$v) {_vm.$set(_vm.editSong, \"style\", $$v)},expression:\"editSong.style\"}},[_c('el-option',{attrs:{\"label\":\"POP 流行\",\"value\":\"POP 流行\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"ELECTRONIC 电子\",\"value\":\"ELECTRONIC 电子\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"ROCK 摇滚\",\"value\":\"ROCK 摇滚\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"CLASSIC 古典\",\"value\":\"CLASSIC 古典\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"FOLK 民谣\",\"value\":\"FOLK 民谣\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"R&B\",\"value\":\"R&B\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"其他\",\"value\":\"其他\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"发行时间\",\"prop\":\"releaseDate\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"请选择发行时间\",\"format\":\"yyyy年 MM月 dd日\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.editSong.releaseDate),callback:function ($$v) {_vm.$set(_vm.editSong, \"releaseDate\", $$v)},expression:\"editSong.releaseDate\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.finishEdit('editSong')}}},[_vm._v(\"完成\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible=false}}},[_vm._v(\"取消\")])],1)],1)],1)],1),_vm._v(\" \"),_c('v-foot')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-2f82e35a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/admin/songdetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2f82e35a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./songdetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./songdetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./songdetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2f82e35a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./songdetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2f82e35a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/admin/songdetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}