webpackJsonp([10],{"6zHS":function(t,a){},"7Rh5":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("Hn+D"),l=e("ANMl"),i=e("mx1b"),s=e("T0cg"),c=e.n(s),o={components:{vNav:l.a,vHeader:n.a,vFoot:i.a},data:function(){return{region:1,style:0,page:1,pageCount:5,albums:[]}},computed:{serverUrl:function(){return this.$store.state.serverUrl}},mounted:function(){this.albumDisplay(1,0,1)},methods:{setAlbum:function(t){this.$store.state.album=t},handleCurrentChange:function(t){this.albumDisplay(0,-1,t)},timestampToTime:function(t){var a=new Date(t);return a.getFullYear()+"-"+((a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"-")+a.getDate()},albumDisplay:function(t,a,e){var n=this;e!=this.page?(t=this.region,a=this.style,this.page=e):-1!=a?(t=this.region,this.style=a,e=this.page):(a=this.style,this.region=t,e=this.page),this.axios.get(this.serverUrl+"/album/filterAlbum",{params:{region:t,style:a,page:e}}).then(function(e){n.albums=e.data,console.log(e.data);for(var l=0;l<e.data.length;l++)null==n.albums[l].image?n.albums[l].image=c.a:n.albums[l].image=n.serverUrl+n.albums[l].image,n.albums[l].releaseDate=n.timestampToTime(n.albums[l].releaseDate);console.log(n.albums),n.axios.get(n.serverUrl+"/album/filterAlbumCount",{params:{region:t,style:a}}).then(function(t){n.pageCount=Math.ceil(parseFloat(t.data)/10),console.log(n.albums)}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},region_change_bg:function(t){var a=document.getElementById("region").getElementsByTagName("li");a[1].className="current";for(var e=0;e<a.length;e++)a[e].className=e==t?"current":""},style_change_bg:function(t){for(var a=document.getElementById("style").getElementsByTagName("li"),e=0;e<a.length;e++)a[e].className=e==t?"current":""}}},r={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-header"),t._v(" "),e("v-nav"),t._v(" "),e("div",{staticClass:"main"},[e("div",{staticClass:"album-nav"},[e("table",{attrs:{id:"album-nav-table"}},[e("tr",[e("td"),t._m(0),t._v(" "),e("ul",{staticClass:"album-nav-tag",attrs:{id:"region"}},[e("li",{staticClass:"current",on:{click:function(a){t.region_change_bg(0),t.albumDisplay(1,-1,1)}}},[t._v("内地")]),t._v(" "),e("li",{on:{click:function(a){t.region_change_bg(1),t.albumDisplay(2,-1,1)}}},[t._v("港台")]),t._v(" "),e("li",{on:{click:function(a){t.region_change_bg(2),t.albumDisplay(3,-1,1)}}},[t._v("欧美")]),t._v(" "),e("li",{on:{click:function(a){t.region_change_bg(3),t.albumDisplay(4,-1,1)}}},[t._v("日韩")]),t._v(" "),e("li",{on:{click:function(a){t.region_change_bg(4),t.albumDisplay(5,-1,1)}}},[t._v("其他")])])]),t._v(" "),e("tr",[e("td"),t._m(1),t._v(" "),e("ul",{staticClass:"album-nav-tag",attrs:{id:"style"}},[e("li",{staticClass:"current",on:{click:function(a){t.style_change_bg(0),t.albumDisplay(0,0,1)}}},[t._v("全部")]),t._v(" "),e("li",{on:{click:function(a){t.style_change_bg(1),t.albumDisplay(0,1,1)}}},[t._v("流行")]),t._v(" "),e("li",{on:{click:function(a){t.style_change_bg(2),t.albumDisplay(0,2,1)}}},[t._v("电子")]),t._v(" "),e("li",{on:{click:function(a){t.style_change_bg(3),t.albumDisplay(0,3,1)}}},[t._v("摇滚")]),t._v(" "),e("li",{on:{click:function(a){t.style_change_bg(4),t.albumDisplay(0,4,1)}}},[t._v("古典")]),t._v(" "),e("li",{on:{click:function(a){t.style_change_bg(5),t.albumDisplay(0,5,1)}}},[t._v("民谣")]),t._v(" "),e("li",{on:{click:function(a){t.style_change_bg(6),t.albumDisplay(0,6,1)}}},[t._v("R&B")]),t._v(" "),e("li",{on:{click:function(a){t.style_change_bg(7),t.albumDisplay(0,7,1)}}},[t._v("其他")])])])])]),t._v(" "),e("ul",{attrs:{id:"albumlist"}},t._l(t.albums,function(a){return e("li",{staticClass:"albumli"},[e("div",{staticClass:"album",staticStyle:{"margin-bottom":"20px"}},[e("router-link",{attrs:{to:{path:"/user/albumdetail",query:{id:a.id}}}},[e("img",{attrs:{src:a.image,alt:""},on:{click:function(e){t.setAlbum(a)}}}),t._v(" "),e("p",{on:{click:function(e){t.setAlbum(a)}}},[t._v(t._s(a.name))])]),t._v(" "),e("router-link",{attrs:{to:{path:"/user/artistdetail",query:{id:a.id}}}},[e("p",[t._v(t._s(a.artistName))])]),t._v(" "),e("p",{staticStyle:{color:"#cccccc"}},[t._v(t._s(a.releaseDate))])],1)])})),t._v(" "),e("el-pagination",{staticClass:"pagination",attrs:{layout:"prev, pager, next","page-count":t.pageCount},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),e("v-foot")],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("td",[a("span",{staticClass:"cl"},[this._v("地区")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("td",[a("span",{staticClass:"cl"},[this._v("流派")])])}]};var u=e("vSla")(o,r,!1,function(t){e("6zHS")},"data-v-8046de34",null);a.default=u.exports}});
//# sourceMappingURL=10.0b5e2632ea5e8c08ceec.js.map